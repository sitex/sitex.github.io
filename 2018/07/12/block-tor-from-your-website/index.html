
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Block TOR from your website</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../../../../favicon.ico">

    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400">
    <link rel="stylesheet" type="text/css" href="../../../../assets/css/screen.css?v=89209b549e">


    <link rel="canonical" href="https://stefanscherer.github.io/2018/07/12/block-tor-from-your-website/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="https://stefanscherer.github.io/2018/07/12/block-tor-from-your-website/amp/">
    
    <meta property="og:site_name" content="Amazing Technology">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Block TOR from your website">
    <meta property="og:description" content="First thing first, the command used here for both Apache and Nginx were designed to be use in cron because TOR ip often change. But make sure that it’s scheduled for 1 hour at minimum to respect those that gives you free service to lookup tor ip =) TorList If">
    <meta property="og:url" content="https://stefanscherer.github.io/2018/07/12/block-tor-from-your-website/">
    <meta property="article:published_time" content="2018-07-11T22:44:00.000Z">
    <meta property="article:modified_time" content="2018-10-15T22:52:27.000Z">
    <meta property="article:tag" content="scripts">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Block TOR from your website">
    <meta name="twitter:description" content="First thing first, the command used here for both Apache and Nginx were designed to be use in cron because TOR ip often change. But make sure that it’s scheduled for 1 hour at minimum to respect those that gives you free service to lookup tor ip =) TorList If">
    <meta name="twitter:url" content="https://stefanscherer.github.io/2018/07/12/block-tor-from-your-website/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Blogger">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="scripts">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Amazing Technology",
        "logo": "https://stefanscherer.github.io/ghost/img/ghosticon.jpg"
    },
    "author": {
        "@type": "Person",
        "name": "Blogger",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/51e23cf1e6b11e5cc63752a15f4e9c53?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://stefanscherer.github.io/author/blogger/",
        "sameAs": []
    },
    "headline": "Block TOR from your website",
    "url": "https://stefanscherer.github.io/2018/07/12/block-tor-from-your-website/",
    "datePublished": "2018-07-11T22:44:00.000Z",
    "dateModified": "2018-10-15T22:52:27.000Z",
    "keywords": "scripts",
    "description": "First thing first, the command used here for both Apache and Nginx were designed to be use in cron because TOR ip often change. But make sure that it’s scheduled for 1 hour at minimum to respect those that gives you free service to lookup tor ip &#x3D;) TorList If",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://stefanscherer.github.io"
    }
}
    </script>

    <meta name="generator" content="Ghost 0.11">
    <link rel="alternate" type="application/rss+xml" title="Amazing Technology" href="https://stefanscherer.github.io/rss/">
</head>
<body class="post-template tag-scripts nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="index.html#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
            <li class="nav--"><a href="https://stefanscherer.github.io/">Фантастические технологии</a></li>
            <li class="nav--"><a href="https://stefanscherer.github.io/tag/tools/">Полезные инструменты</a></li>
            <li class="nav--"><a href="https://stefanscherer.github.io/tag/math/">Занимательная математика</a></li>
    </ul>
        <a class="subscribe-button icon-feed" href="https://stefanscherer.github.io/rss/">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
            <a class="menu-button icon-menu" href="index.html#"><span class="word">Menu</span></a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post tag-scripts">

        <header class="post-header">
            <h1 class="post-title">Block TOR from your website</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2018-07-12">12 July 2018</time>  on <a href="../../../../tag/scripts/">scripts</a>
            </section>
        </header>

        <section class="post-content">
            <p>First thing first, the command used here for both Apache and Nginx were designed to be use in <code>cron</code> because TOR ip often change. But make sure that it’s scheduled for <code>1 hour</code> at minimum to respect those that gives you free service to lookup tor ip =)</p>

<ul>
<li><a href="https://www.dan.me.uk/torlist/">TorList</a></li>
</ul>

<h4 id="ifyouonlyhaveaccesstohtaccessfile">If you only have access to <code>.htaccess</code> file</h4>

<p>For <code>Apache 2.2</code></p>

<p>This will append new lines to your .htaccess file and will block all access from TOR ips to all section of your site by default.  </p>

<pre><code>sed -i '/#\ REAPER-TOR/,/#\ END-REAPER-TOR/d' /your/www/directory/.htaccess; wget -q https://www.dan.me.uk/torlist/ -O - | sed "s/^/deny from /g; 1i# REAPER-TOR" | sed '$a# END-REAPER-TOR' &gt;&gt; /your/www/directory/.htaccess  
</code></pre>

<p>Run this once before putting it in cron if you have ssh access otherwise put it in cron directly but make sure to set a minimum of 1 hour</p>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="../../../../author/blogger/" style="background-image: url(http://www.gravatar.com/avatar/51e23cf1e6b11e5cc63752a15f4e9c53?s&amp;)"><span class="hidden">Blogger's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="../../../../author/blogger/">Blogger</a></h4>

                    <p>Read <a href="../../../../author/blogger/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Block%20TOR%20from%20your%20website&amp;url=https://stefanscherer.github.io/2018/07/12/block-tor-from-your-website/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://stefanscherer.github.io/2018/07/12/block-tor-from-your-website/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://stefanscherer.github.io/2018/07/12/block-tor-from-your-website/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>


        </footer>

    </article>
</main>

<aside class="read-next">
    <a class="read-next-story no-cover" href="../../../09/12/youtube-upload/">
        <section class="post">
            <h2>YouTube upload from Terminal</h2>
            <p>Examples youtube-upload --title="A.S. Mutter" anne_sophie_mutter.flv ./youtubeuploader -filename blob.mp4 tokland/youtube-upload Command-line script to…</p>
        </section>
    </a>
    <a class="read-next-story prev no-cover" href="../../../04/23/error-eperm-operation-not-permitted/">
        <section class="post">
            <h2>Error: EPERM: operation not permitted</h2>
            <p>Use --no-bin-links…</p>
        </section>
    </a>
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="https://stefanscherer.github.io">Amazing Technology</a> © 2019</section>
            <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="http://code.jquery.com/jquery-1.12.0.min.js"></script>
    
    <script type="text/javascript" src="../../../../assets/js/jquery.fitvids.js?v=89209b549e"></script>
    <script type="text/javascript" src="../../../../assets/js/index.js?v=89209b549e"></script>

</body>
